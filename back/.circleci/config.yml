version: 2.1

orbs:
  # Note: We are using an older version of hello-build, whereas module A uses the latest
  back-hello-build: circleci/hello-build@0.0.13

jobs:
  back-build:
    docker:
      - image: alpine
    steps:
      - common-say-hello:
          to: B
      - run: echo 'Hello, from module B! :3'

  back-postrun:
    docker:
      - image: alpine
    steps:
      - run: echo 'Another job for B! :3'

workflows:
  back-workflow-x:
    jobs:
      - common-pre
      - back-build:
          requires:
            - common-pre
      - back-postrun:
          requires:
            - back-build
  back-workflow-y:
    jobs:
      - back-hello-build/hello-build